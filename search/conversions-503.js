(()=>{function o(o,e,{objectId:n,timestamp:t,userToken:i,index:s,queryID:r}){if(!o||!e)return void console.error("Invalid eventName or eventType given for sendInsights");if("no-token"===i)return;if(window._algolia_conversion_sent[o])return void console.warn("Repeat conversion.");window._algolia_conversion_sent[o]=1;const c=window._algolia_conversion;var l;c&&(t=t||Date.now(),n=n||window.location.href.split("?")[0],i=i||c.tokenId||function(o){const e=`; ${document.cookie}`.split(`; ${o}=`);if(2===e.length)return e.pop().split(";").shift()}("_ALGOLIA"),s=s||c.indexName,r=r||c.queryId,"elastic-ibkr-com-en"!==c.index?(l={method:"POST",headers:{"X-Algolia-Api-Key":"23132b80baea5b242d7f46e9bf8ce6cf","X-Algolia-Application-Id":"EOILUDWWNO"},keepalive:!0,body:JSON.stringify({events:[{eventType:e,eventName:o,index:s,userToken:i,objectIDs:[n],queryID:r,timestamp:t}]})},fetch("https://insights.algolia.io/1/events",l).then((o=>console.log("Insights event sent")))):console.log("elastic a/b test"))}window._algolia_conversion=void 0,window._algolia_conversion_send=(e,n,t)=>o(e,n,t),window._algolia_conversion_sent={},setTimeout((function(){(function(){const o=new URLSearchParams(window.location.search).get("cid");return o?fetch(`/webrest/search/session/${o}`):new Promise((o=>o(JSON.stringify({}))))})().then((o=>{if(o.json)return o.json()})).then((o=>{o&&(window._algolia_conversion=o)}))}),5e3),setTimeout((function(){o("60s on page","conversion",{})}),6e4);const e=document.querySelector("#contents");let n=!1;if(e){const t=168;!window.scrollY>t&&window.addEventListener("scroll",(function(){if(n)return;let i=e.offsetTop+e.offsetHeight-t-300;i<1400||(i>1500&&(i-=450),window.show_console_logs&&console.log(window.scrollY>i),window.scrollY>i&&(o("scroll to bottom","conversion",{}),n=!0))}))}const t=document.querySelector(".dropdown-open-account .dropdown-portal");document.querySelector(".dropdown-login .dropdown-portal"),t&&t.addEventListener("click",(()=>o("open account","conversion",{})))})();